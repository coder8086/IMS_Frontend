<div class="page-wrapper">

    <!-- 🔍 Search bar + Filter dropdown -->
    <div class="search-bar">
      <input
        type="text"
        placeholder="Search sellers..."
        [(ngModel)]="searchTerm"
      />
  
      <select [(ngModel)]="searchField">
        <option value="name">Name</option>
        <option value="email">Email</option>
        <option value="id">ID</option>
        <option value="grossSale">Gross Sale</option>
        <option value="earning">Earning</option>
      </select>
    </div>
  
    <!-- Seller form -->
    <div class="seller-form">
      <form (submit)="addSellerWithImg()">
      <input
        type="text"
        placeholder="Name of Shop" name="name"
        [(ngModel)]="newSeller.name"
        required
      />
   
      <input
        type="email"
        placeholder="Email ID" name="email"
        [(ngModel)]="newSeller.email"
        required
        email
      />
      <input
        type="number"
        placeholder="Gross Sale" name="grossSale"
        [(ngModel)]="newSeller.grossSale"
        min="0"
        required
      />
      <input
        type="number"
        placeholder="Earning" name="earning"
        [(ngModel)]="newSeller.earning"
        min="0"
        required
      />
      
      <div class="file-upload">
          <input #fileInput type="file" (change)="onFileSelected($event,fileInput)">
      </div>
        <button type="submit">{{ editingIndex !== null ? 'Update' : 'Save' }}</button>
      </form>
    </div>
  
    <!-- Seller display -->
    <div class="seller-display">
      <div *ngIf="filteredSellers.length === 0">No sellers found matching your search.</div>
  
      <div class="seller-card" *ngFor="let seller of filteredSellers; let i = index">
       
        <img [src]="'http://localhost:8080/api/seller/serveImage/' + seller.imagePath" alt="My Image">

        <h3>{{ seller.name }}</h3>
        <p><strong>ID:</strong> {{ seller.imagePath }}</p>
        <p><strong>Email:</strong> {{ seller.email }}</p>
        <p><strong>Gross Sale:</strong> ${{ seller.grossSale }}</p>
        <p><strong>Earning:</strong> ${{ seller.earning }}</p>
        <button (click)="editSeller(i)">Edit</button>
        <button (click)="deleteSeller(i)">Delete</button>
      </div>
    </div>
  
  </div>